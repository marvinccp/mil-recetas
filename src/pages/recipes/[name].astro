---
import "../../styles/Global.css";
import BaseLayout from "../../layouts/base-layout.astro";
export async function getStaticPaths() {
  const data = await (
    await fetch("https://www.themealdb.com/api/json/v1/1/search.php?f=s")
  ).json();

  return data.meals.map((recipe) => {
    return {
      params: { name: recipe.strMeal },
      props: { recipe },
    };
  });
}

const { id } = Astro.params;
const { recipe } = Astro.props;
---

<BaseLayout />
<div class="title-container">
  <h1>{recipe.strMeal}</h1>
</div>
<article class="recipe-container">
  <img src={recipe.strMealThumb} alt="" />
  <div class="ingredients-container">
    <h2>ingredients</h2>
    <ul>
      <li>{recipe.strIngredient1  || 'ğŸ˜‰'} : <span>{recipe.strMeasure1 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient2 || 'ğŸ˜‰' } : <span>{recipe.strMeasure2 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient3 || 'ğŸ˜‰' } : <span>{recipe.strMeasure3 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient4 || 'ğŸ˜‰' } : <span>{recipe.strMeasure4 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient5 || 'ğŸ˜‰' } : <span>{recipe.strMeasure5 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient6 || 'ğŸ˜‰' } : <span>{recipe.strMeasure6 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient7 || 'ğŸ˜‰' } : <span>{recipe.strMeasure7 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient8 || 'ğŸ˜‰' } : <span>{recipe.strMeasure8 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient9 || 'ğŸ˜‰' } : <span>{recipe.strMeasure9 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient10 || 'ğŸ˜‰' } : <span>{recipe.strMeasure10 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient11 || 'ğŸ˜‰' } : <span>{recipe.strMeasure11 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient12 || 'ğŸ˜‰' } : <span>{recipe.strMeasure12 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient13 || 'ğŸ˜‰' } : <span>{recipe.strMeasure13 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient14 || 'ğŸ˜‰' } : <span>{recipe.strMeasure14 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient15 || 'ğŸ˜‰' } : <span>{recipe.strMeasure15 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient16 || 'ğŸ˜‰' } : <span>{recipe.strMeasure16 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient17 || 'ğŸ˜‰' } : <span>{recipe.strMeasure17 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient18 || 'ğŸ˜‰' } : <span>{recipe.strMeasure18 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient19 || 'ğŸ˜‰' } : <span>{recipe.strMeasure19 || 'ğŸ›'} </span></li>
      <li>{recipe.strIngredient20 || 'ğŸ˜‰' } : <span>{recipe.strMeasure20 || 'ğŸ›'} </span></li>
    </ul>
  </div>
  <h2 class="instructions-title">Instructions</h2>
  <p>{recipe.strInstructions}</p>
  <h2 class="instructions-title">Source</h2>
</article>




<style>

  .title-container{
    margin: 150px auto 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 90%;
  }
  .recipe-container {
    margin: 30px auto 0 auto;
    width: 90%;
    display: flex;
    flex-direction: column;
  }
  .recipe-container img{
    width: 100%;
  }

  .ingredients-container{
    margin: 30px 0 0 0;
  }
  .ingredients-container ul{
    margin: 30px 0 0 30px;
  }
  .ingredients-container ul li{
    font-size: 1.2rem;
  }
  span{
    margin: 0 0 0 5px;
    color: rgb(76, 76, 76);
    font-weight: bold;
  }
  p{
    margin: 20px 0 0 0;
    font-size: 1.3rem;
  }
  .instructions-title{
    margin: 20px 0 0 0;
  }

@media(min-width:768px){
  .recipe-container {
    width: 70%;
  }
}
</style>
